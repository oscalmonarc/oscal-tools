<% content_for :title, "Domain Environments" %>
<p id="notice"><%= notice %></p>

<h2>Domain Environments</h1>

<table id="myDataTable"  class="table table-striped table-bordered"  style="width:101%">
  <thead>
    <tr>
      <th>Domain </th>
      <th>Region</th>
      <th>Provider</th>
      <th>Description</th>
      <th>Data classification</th>
      <th>Location</th>
      <th></th>
      <th></th>
    </tr>
  </thead>

  <tbody>
    <% @domain_environments.each do |domain_environment| %>
    
      <tr>
        <td><% if (domain_environment.parent != nil) %> <%= domain_environment.parent.click_link %> > <% end %><%= domain_environment.click_link %></td>
        <td><%= domain_environment.region %></td>
        <td><%= domain_environment.provider.click_link %></td>
        <td><%= domain_environment.description %></td>
        <Td><% if (domain_environment.data_classification != nil ) %>
        		<%= domain_environment.data_classification.name %>
        	<% end %>
        </td>
		<td><%= domain_environment.location %></td>
        
        <td><%= link_to 'Edit', edit_domain_environment_path(domain_environment) %></td>
        <td><%= link_to 'Destroy', domain_environment, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<%= button_to 'New Domain Environment', new_domain_environment_path, method: :get  %>

<script>
$(document).ready(function() {
    $('#myDataTable').DataTable( {
    	"aaSorting": [],
    	dom: 'Bfrtip',
        buttons: [
            'copy', 'csv', 'excel', 'pdf', 'print'
        ]
    } );
} );

</script>

